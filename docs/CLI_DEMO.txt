# Figma Sprite Tool CLI Demo

## Installation
```bash
pnpm install
pnpm build
```

## Help Commands

### Main Help
```bash
$ node dist/index.js --help

Usage: figma-sprite [options] [command]

Generate sprite sheets from Figma design systems

Options:
  -V, --version             output the version number
  -h, --help                display help for command

Commands:
  generate|build [options]  Generate sprite sheets from Figma
  help [command]            display help for command
```

### Generate Command Help
```bash
$ node dist/index.js generate --help

Usage: figma-sprite generate|build [options]

Generate sprite sheets from Figma

Options:
  -c, --config <path>  Path to config file (default: "figma.sprite.config.json")
  -o, --output <dir>   Output directory (overrides config)
  --verbose            Enable verbose logging
  --dry-run            Preview without writing files
  -h, --help           display help for command
```

### Version
```bash
$ node dist/index.js --version
0.1.0
```

## Usage Examples

### Basic Usage
```bash
# Using npm script
npm run sprite

# Direct execution
node dist/index.js generate

# Using alias
node dist/index.js build
```

### With Options
```bash
# Custom config
node dist/index.js generate -c custom.config.json

# Override output directory
node dist/index.js generate -o ./dist/sprites

# Verbose mode
node dist/index.js generate --verbose

# Dry run (preview only)
node dist/index.js generate --dry-run
```

## Expected Output (with real Figma data)

```
ℹ Loading configuration from figma.sprite.config.json
✓ Configuration loaded
ℹ Fetching from Figma API...
✓ Fetched 150 icons from "Design System / Icons"
ℹ Exporting images from Figma...
✓ Exported 150 icons
ℹ Generating PNG sprites...
✓ PNG sprites generated (1024x512, 95% efficiency)
ℹ Generating SVG sprite...
✓ SVG sprite generated
ℹ Writing output files...
✓ sprite.png (45.2 KB)
✓ sprite@2x.png (180.8 KB)
✓ sprite.svg (12.3 KB)
✓ sprite.scss (3.4 KB)
✓ sprite.json (8.9 KB)

✓ Sprite generation complete! (2.4s)
```

## Error Example

```
✗ [E301] Duplicate icon id detected: ic-home-24-line

Context:
  icon id: ic-home-24-line
  node ids:
    • 123:456
    • 789:101

Suggestions:
  • Use unique icon names in your Figma design system
  • Or adjust the naming.idFormat to create unique IDs

Error code: E301
```

## Test Results

```
$ pnpm test -- tests/unit/cli --run

✓ tests/unit/cli/output/logger.test.ts (15 tests)
✓ tests/unit/cli/output/progress.test.ts (7 tests)
✓ tests/unit/cli/output/error-formatter.test.ts (8 tests)
✓ tests/unit/cli/commands/generate.test.ts (11 tests)

Test Files  4 passed (4)
     Tests  41 passed (41)
  Duration  1.33s
```

## Features

✅ Colored output (info: blue, success: green, warn: yellow, error: red)
✅ Progress tracking with step-by-step status
✅ CI environment detection (simple output in CI)
✅ Verbose mode for debugging
✅ Dry run mode for preview
✅ Comprehensive error messages with context and suggestions
✅ File size reporting
✅ Generation time tracking
✅ Commander.js powered CLI
✅ Full TypeScript support

